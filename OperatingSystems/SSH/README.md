## SSH
В качестве примерв рассматриваем пользователя localadmin

### Установка и настройка ssh
1. Установим необходимые пакеты
```
apt update && apt install ssh
```
2. Сгенерируем приватный и публичный ключи ssh для пользователя localadmin.
```
su localadmin
cd ~
ssh-keygen
```
3. По умолчанию сервис будет работать на 22 порту и разрешать авторизацию всех пользователей кроме root с использованием пароля
4. Добавляем сервис в автозагрузку
```
systemctl enable ssh --now
```

### Подключение к удаленному серверу с помощью ssh
1. Сгенерируем приватный и публичный ключи ssh для пользователя localadmin.
```
su localadmin
cd ~
ssh-keygen
```
2. Для просто подключение с использованием логина и пароля надо ввести:
```
ssh <имя пользователя>@<ip-адрес>
```
3. Чтобы пользователи могли подключаться без ввода пароля необходимо выполнить команду и ввести пароль:
```
ssh-copy-id <имя пользователя>@<ip-адрес>
```
После этого при выполнении стандартной команды для подключения у вас не будет запрашиваться пароль

4. Чтобы подключаться по ssh с использованием только имени или псевдонима удаленного сервера необходимо добавить в файл /etc/ssh/sshd_config:
```
Host VDS
    HostName <ip-адрес удаленного сервера>
    User localadmin
    IdentityFile /etc/ssh/id_rsa
```
5. Для сохранения подключения без ввода пароля необходимо скопировать файл id_rsa_<удаленный сервер> из вашей домашней директории в /etc/ssh:
```
cp ~/.ssh/id_rsa_<удаленный сервер> /etc/ssh
```
6. Перезагрузим сервис и проверим подключение:
```
service sshd restart

ssh vds
```