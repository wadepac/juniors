## Лабораторная работа: Настройка NFS

### Молодая компания Pacific Inc. начала набирать новых сотрудников.
 Каждому из них нужно пройти обучение и отчитаться. Каждый из сотрудников может работать за своим ноутбуком, а может воспользоваться офисным. Все файлы для обучения хранятся на 1 компьютере главного Тим-лида и ему же потом придется проверять все отчеты.

 Для упрощения работы было решено настроить NFS на компьютере Тим-лида и дать возможность подключаться к нему всем остальным.

#### Настройка NFS-сервера (ОС Linux)

1. Устанавливаем необходимые пакеты
```
sudo apt update -y
sudo apt install nfs-kernel-server
```

2. Выбираем какой каталог расшарить. В нашем случае надо создать новый с именем study_office

3. Редактируем файл конфигурации /etc/exports

Мы расшариваем созданную ранее папку для чтения и записи для всех пользователей

```
/study_office  *(rw,sync,no_root_squash) 
```
4. Запускаем сервис 

```
sudo service nfs-kernel server start
```

#### Настройка NFS-клиента (ОС Linux)

1. Устанавливаем необходимые пакеты
```
sudo apt update -y
sudo apt install nfs-common
```

2. Подключаем/монитруем к себе расшаренную ранее директорию в каталог ~/my_study:

```
sudo mount team-lead-ip:/study_office ~/my_study
```

#### Готово, теперь новые сотрудники могут обучаться!

Но, есть несколько НО:

1. Мы настроили доступ абсолютно для всех, без ограничений, это не очень безопасно (совсем не безопасно)
2. Мы сделали подключение без авторизации

Научимся исправлять пункт 1:

1. Редактируем файл конфигурации /etc/exports на компьютере Тим-лида:

В офисе все сотрудники подключаются в одну локальную сеть  с адресом 10.0.2.0/24, разрешим доступ из неё:

```
/study_office  10.0.2.0/24(rw,sync,no_root_squash) 
```
2. Перезапускаем сервис 

```
sudo service nfs-kernel server restart
```